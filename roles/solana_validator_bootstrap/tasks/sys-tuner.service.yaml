---
- name: Create solana-sys-tuner service
  copy:
    src: files/solana-sys-tuner.service
    dest: /etc/systemd/system/
    mode: 0644
    owner: root
    group: root
  tags:
    validator.service.sys-tuner

- name: Reload service configuration
  systemd:
    daemon_reload: yes
  tags:
    validator.service.sys-tuner

- name: Enable solana-sys-tuner service
  systemd:
    name: solana-sys-tuner
    enabled: yes
  tags:
    validator.service.sys-tuner

- name: Start solana-sys-tuner service
  systemd:
    name: solana-sys-tuner
    state: restarted
  tags:
    validator.service.sys-tuner
